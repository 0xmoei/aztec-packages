AddressSnapshotLibTest
├── when no validators are registered
│   ├── it causes at to revert
│   └── it causes getAddressFromIndexAtEpoch to return revert
├── when adding a validator
│   ├── when already added
│   │   └── it returns false
│   └── when not previously added
│       ├── it returns true
│       ├── it increases the length
│       └── it creates a checkpoint
├── when removing a validator
│   ├── when address not in the set
│   │   └── it returns false
│   └── when validator is in the set
│       ├── it returns true
│       ├── it decreases the length
│       ├── it updates the snapshot for that index
│       └── it maintains historical values correctly
├── when index is out of bounds
│   └── it reverts with IndexOutOfBounds
└── when index is valid
    └── it returns the current validator at that index
